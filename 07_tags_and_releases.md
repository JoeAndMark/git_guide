# 7 标签与版本发布

[TOC]

在软件开发中，使用标签（Tag）和版本发布（Release）是标记重要里程碑或发布版本的重要手段。下面，我们将详细介绍如何在 Git 中创建和管理标签，以及如何发布版本。

## 7.1 标签的概念

标签（Tag）是 Git 中用于标记特定提交（Commit）的便签。它们通常用于标记重要的时间点，比如发布版本。标签分为两种类型：

+ 轻量标签（Lightweight Tag）：只是一个特定提交的引用
+ 附注标签（Annotated Tag）：包含额外的元数据，如标签创建者、日期、标签消息等。

## 7.2 创建标签

### 7.2.1 创建轻量标签

轻量标签只是以一个指向特定提交的简单标记。创建轻量标签的命令如下：

```bash
git tag <tag_name>
```

### 7.2.2 创建附注标签

附注标签包含更多信息，通常用于正式的版本发布。创建附注标签的命令如下：

```bash
git tag -a <tag_name> -m "Tag message"
```

## 7.3 查看标签

要查看仓库中的所有标签，可以使用一下命令：

```bash
git tag
```

这将列出所有标签。如果只想查看特定模式的标签，可以使用通配符。例如，查看所有 `v1.*` 标签：

```bash
git tag -l "v1.*"
```

## 7.4 删除标签

如果需要删除一个标签，可以使用一下命令：

```bash
git tag -d <tag_name>
```

## 7.5 推送标签到远程仓库

创建的标签默认只存在于本地。如果需要将标签推送到远程仓库，可以使用以下命令：

```bash
git push origin <tag_name>
```

如果需要一次性推送所有本地标签，可以使用一下命令：

```bash
git push origin --tags
```

## 7.6 删除远程标签

如果需要删除远程仓库中的标签，可以先在本地删除标签，然后推送删除操作到远程：

```bash
git push origin :refs/tags/<tags_name>
```

## 7.7  发布版本

Git 本身没有直接的版本发布命令，但许多代码托管平台（如 GitHub、Gitee）提供了发布版本的功能。这些平台通常允许你基于 Git 标签创建一个版本发布，包含了变更日志、二进制文件等。

### 7.7.1 在GitHub上发布版本

在GitHub上发布版本的步骤如下：

1. 在GitHub仓库页面，点击“Releases”。
2. 点击“Draft a new release”。
3. 在“Tag version”字段，输入你要创建的标签名称（如`v1.0`），或者选择一个已存在的标签。
4. 填写发布标题和描述。
5. 如果需要，可以附加二进制文件或其他附加文件。
6. 点击“Publish release”按钮。

这样，你的版本就发布完毕了。